## 一、是什么
## 二、种类
## 三、命令

## 一、是什么

Shell 是一个由c语言编写的应用程序，它是用户使用Linux的桥梁。Shell既是一种命令语言，又是一种程序设计语言。

它连接了用户和Linux内核，让用户能够更加高效、安全、低成本地使用Linux内核。

其本身并不是内核的一部分，它只是站在内核的基础上编写的一个应用程序，它和qq、微信等其它软件没有什么区别，特殊的地方就是开机立马启动，并呈现在用户面前。

主要作用是接收用户输入的命令，并对命令进行处理，处理完毕后再将结果反馈给用户，比如输出到显示器、写入到文件等，同样能够调用和组织其他的应用程序，相当于一个领导者的身份，如下图。

那么shell脚本就是多个shell命令的组合并通过if条件分支控制或循环来组合运算，实现一些复杂功能，文件后缀名为.sh。

常用的ls命令，它本身也是一个shell脚本，通过执行这个shell脚本可以列举当前目录下的文件列表，如下创建一个hello.sh脚本。

```js
#!/bin/bash

# 执行的命令主体
ls
echo "hello world"
```
- #!/bin/bash 指定脚本要使用的Shell类型为Bash

- ls、echo：脚本文件的内容，表明我们执行hello.sh脚本时会列举出当前目录的文件列表并且会向控制台打印hello world.

执行方式为.hello.zsh

## 二、种类

Linux的Shell种类众多，只要能给用户提供命令行环境的程序，常见的有：

- Bourne Shell (sh)，是目前所有Shell的祖先，被安装在几乎所有发源于Unix的操作系统上。

- Bourne Again shell （bash），是sh的一个进阶版本，比sh更优秀，bash是目前大多数linux发行版以及macOS操作系统的默认shell。

- c shell （csh），它的语法类似c语言。

- tenex c shell (tcsh)， 它是csh的优化版本。

- Korn shell (ksh)，一般在收费的Unix版本上比较多见。

- z shell (zsh)，它是一种比较较近的shell，集bash、ksh和tcsh各家之大成。

关于 shell 的几个常见命令：

- ls：查看文件

- cd：切换工作目录

- pwd：显示当前目录

- mkdir：创建目录

- cp：拷贝

- rm：删除

- mv：移动

- du：显示目录所占用的磁盘空间。

## 三、命令

shell 并不是简单的堆砌命令，我们还可以在shell中编程，这和使用c++、c#、java、python等常见的编程语言并没有什么两样。

shell 虽然没有 c++、java、python等强大，但也支持了基本的编程元素，例如：

- if...else选择结构，case...in开关语句，for、while、until循环；

- 变量、数组、字符串、注释、加减乘除、逻辑运算等概念；

- 函数，包括用户自定义的函数和内置函数（例如 printf、export、eval等）。

下面以bash为例简单了解一下shell的基本使用。

**变量**

bash没有数据类型的概念，所有的变量值都是字符串，可以保存一个数字、一个字符、一个字符串等等。

同时无需提前声明变量，给变量赋值会直接创建变量。

访问变量的语法形式为：${var}和$var。

变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，所以推荐加花括号。
```js
world="hello"
echo ${word}
# Output: hello
```
**条件控制**

跟其它程序设计语言一样，bash中的条件语句让我们可以决定一个操作是否被执行。结果取决于一个包在[[]]里的表达式。

跟其他语言一样，使用if...else进行表达，如果中括号里的表达式为真，那么then和fi之间的代码会被执行，否则else和if之间的代码会被执行。
```js
if [[ 2 -n 1]]; then
  echo "true"
else
  echo "false"
fi
# Output: true
```
fi标志着条件代码块的结束。

**函数**

bash函数定义语法如下：
```js
[ function ] funname [()] {
  action;
  [return int;]
}
```

- 函数定义时，function关键字可有可无。

- 函数返回值 - return 返回函数返回值。返回值类型只能为整数（0-255）。如果不加return语句，shell默认将以最后一条命令的运行结果，作为函数返回值。

- 函数返回值在调用该函数后通过$?来获得。

- 所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。


