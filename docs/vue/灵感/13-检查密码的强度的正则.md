正则里边的一个经典案例
就是密码强度检测

---

密码强度检查

- 8个字符以上
- 必须包含数字
- 必须包含大写字母
- 必须包含特殊字符

---

比方说这里
他要求你写8个字母以上。
然后呢还必须要有数字
还必须要有大写字母
还必须有特殊字符

那面对这种场景
这个正则该咋写呢

比方说啊咱们把要求呢明确一下

---

写一段正则表达式用于验证密码，密码要求如下：

- 必须是 6-12 位

- 必须包含 数字、小写字母、大写字母、特殊字符(`$@,_.`之一)
---

这个密码呢
必须是6-12位
然后呢必须里边包含这些东西
咋写啊
咱们来试一试

```
// 使用正则前瞻检查密码强度

// 1.js

// Test Regex


```
比方说我们这里呢
把问题简单化
不用去考虑那么多
这个密码里边呢
必须要包含数字
以及呢小写字母

先把问题先简化
看能不能写出来
你会发现这个玩意儿写起来都困难
来写一下吧

字符串开始
字符串结束
```js
/^$/
```
然后中间呢
必须要有数字
```js
/^\d+$/
```
然后要有字母
```js
/^\d+[a-z]+$/
```
来测试一下吧
vscode安装好了一个插件
用这个插件呢
可以测试一下这个正则表达式
它匹配的结果
比方说我们现在匹配前面是数字

```js
写

234a // 是匹配得上的
```
但是我要换一下顺序呢

那我现有字母
再有数字呢
a123
按理说也行啊
只要包含数字
只要包含字母就行

但是你会发现
这样正则表达式呢
就匹配不上了
为啥呢
因为它有顺序要求啊
写的正则是得先有数字后有字母
```js
/^\d+[a-z]+$/ // 是匹配不上的，因为顺序不对，写的是先有数字再有字母
```
那就必须修改一下这个正则表达式，咋修改呢，问题是那大不了呢，我再写一遍呗，对吧这是一种情况。
```js
/^(\d+[a-z]+)$/
```
第二种情况呢
```js
/^(\d+[a-z]+) | ([a-z]+\d+)$/
```
你看现在又能匹配了
```js
a123
```
好像还行是吧
那咱们再换一种情况呢
那如果说他的正则表达式
是这样写的

现有字母
再有数字
再有字母
```js
a12234sdf
```
你会发现他又匹配不上了
那你说你这个玩意
你要写多少种情况啊
那就是无穷无尽的情况了

所以呢
我们还得回头
再重新好好想一想
目前这个正则表达式
他在匹配的时候
出现问题的根源在哪呢

根源就在于目前这种匹配啊他是谁会消耗字符的
这是啥子意思呢
比方说咱们现在呢匹配数字字母
它是怎么匹配的
一开始呢
它的匹配位置从开头开始，也就是^
就 匹配上了
这个开始没问题
然后接下来到下一个位置
要匹配连续出现多个数字
那么这里呢
他会发现哎确实有连续出现多个数字，随着匹配啊，它这个指正就往前移动，
于是呢，我们接下来在匹配字母的时候呢，
这指针就是从这个位置开始往后匹配了，
就是它边匹配，
它的指针在不断地往后移动，
这就叫做消耗字符，
之前匹配上的呢
我就不用再重新看了
而我们目前需要的是这种做法吗
不是的我们目前希望的是啥呢
你不要动
因为后边的情况太多了
你这个指针就在这个位置给我待着
然后往前边去看
看一下有没有满足第一个规则哈
就里边有没有包含数字

但是看得过程中，
这个指针不动
你就待在这
然后呢
我再看一下有没有包含字母

然后我再看一下
里边有没有包含特殊字符
对吧
但是整个看的过程中
你这个指针是不能动的
只有在这种要求下
才能够满足我们的

规则你想想人是怎么检测的
先看一下有没有数字对吧
是从头到尾来看一遍
然后再看一下有没有包含字母
又是从头到尾来看一遍
永远都是从头开始看的
指针不动

那问题是我如何让它指针不动呢

这里涉及到一个正则表达式
里边的一个小知识
叫做`前瞻运算符`

语法规则：
```js
(?=规则)
```
当发现这种前瞻运算符，它是不会消耗字符的。
就它指针是不动的。

如果说，
你之前正则学的比较扎实的话，
你会知道这个运算。
```js
(?=规则)
```
这个小括号是一个非捕获分组。
不扯远

因此呢我们在这一块写的时候呢得这么写
你看
字符串开始字符串结束
```js
/^$/
```
你的指针在哪
是不是经过前面的匹配
在字符串开始的位置是吧
好
接下来指针不动
就是往前看一看
看一下啊前面有没有满足某一种规则呢
```js
/^(?=)$/
```
什么规则呢
比方说它里面要包含数字
那这个规则很好写

不管你前边是啥东西
任意字符
出现0次或多次
```js
/^(?=.*\)$/
```
但是呢
中间一定要给我夹一些数字

注意
匹配过程中
它的指针是不动的
```js
/^(?=.*\d+)$/
```
这样写之后
怎么匹配不上了呢

梳理一下
它的指针在哪呢
在最开始
匹配到了这开始字符
然后呢这里是有个前瞻
看一下前面这一块东西里边
里边有没有夹一些数字呢
有吧
肯定有能匹配上
好这一段是能匹配上的
那接下来又看下个规则
是不是字符串要结束啊
那这个位置字符串结束了吗

由于他之前没有消耗字符
所以说他一直停留在这个位置
那怎么办呢

我得让他快速地把字符给消耗掉
然后匹配到结束
所以说
这后面还要加一个规则
就是匹配任意字符0次或多次

你看这个字符串里边
他有数字
匹配上了
然后呢后边0次或多次也匹配上了
```js
/^(?=.*\d+).*$/
```
然后呢字符串结束，匹配上了，没问题，
那如果说里边哟啊没有数字呢
那就导致了这个前瞻呢
匹配没有通过
那就没有匹配上

用这个前瞻匹配到了一个规则
那其他规则呢

那接着写呗
对吧反正这个指针没动
一直停留在前面
你先往前望一望
有没有满足这个规则
然后指针没动
继续往后写
没没有满足下一个规则呢

比方说这个小写字母
a到z出现一次或多次
```js
/^(?=.*\d+)(?=.*[a-z]+).*$/
```
这是第二个规则 又有了
是吧
那就必须要有数字
有小写字母才行了


然后继续写呗
按有没有下个规则呢
还得有大写字母，A到Z出现一次或多次
```js
/^(?=.*\d+)(?=.*[a-z]+)(?=.*[A-Z]+).*$/
```
现在又不行了
必须要有大写字母
大写字母在哪无所谓只要有就行
然后呢还要有一些特殊字符
就是这些字符出现一次或多次
```js
/^(?=.*/d+)(?=.*[a-z])(?=.*[A-Z]+)(?=.*[$@,_.]+).*$/
```

现在又不行了
得有一些特殊字符才行
那你看
现在的规则不就满足要求了吗

还没完
这个前瞻只管你有哪些东西
没有管你没有哪些东西

也就是说
如果出现了不该有的字符，
他也能配

上面的前瞻
有没有数字
有没有小写
有没有大写
有没有特殊字符

它没有管多出来的东西
所以说，
后边呢前瞻匹配完过后
它只保证有

那么在后边消耗字符的时候呢
就不能用点了

换成别的
什么字符出现0次或多次
应该是数字小写字母大写字母然后特殊字符
```js
/^(?=.*/d+)(?=.*[a-z]+)(?=.*[A-Z]+)(?=.*[$@,_.]+)[\da-zA-Z$@,_.]*$/
```
写了过后，
别的不是这里边的东西就不能插进来了









